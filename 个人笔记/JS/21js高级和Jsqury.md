# 21 js高级和Jsqury

## 定时器的执行

### 定时器并不是真正的完全精准的执行,因为计时器是异步代码,是需要页面同步代码执行完毕后,才会执行,在最开始会定义计时器,但不会开始计时,只有在页面同步代码全部代码执行完毕后才会开始计时,所以它最后的计时时间比参数时间要大

### 在正常的情况下,这种情况可以忽略,但是如果遇到很大的计算,它的执行时间就会受很多的影响,影响用户体验,会出现假死状态

### 当出现假死状态时,页面时不能被操作的,影响用户体验

### 在主线程中执行的,在分线程中放着的,因为JS是单线程

## 事件循环模型

### 代码分类

- 初始化代码(同步代码)

	- 包含事件的监听(也就是事件的绑定),计时器的设置,aJax代码的请求

- 回调执行代码(异步代码)

	- 处理回调逻辑

### 模型的两个重要组成部分

- 事件管理模块
- 回调队列

### 执行流程

- 初始化代码---->回调代码

### 模型的运行流程

- 1 初始化代码时,将事件回调函数交给事件管理模块
- 2 当执行事件时,事件管理模块将事件的数据和回调函数交给回调队列
- 3 当初始化代码执行完毕后,会按照顺序依次执行之前给回调队列的回调函数

## H5多线程

### 缺点

- 开辟多线程会增加功耗
- 不能操作其中的DOM节点元素

### 使用条件

- 在服务器环境下
- 不能跨域请求

### 一个进程可以开辟多个线程,线程也可以再继续开辟线程,但是这样会有很多问题,比如兼容性很不好

### 该方法可以解决在遇到大量计算时,页面需要很久才能计算完成时,可以利用这个方法,解决页面假死的情况

## 多线程的使用方法

### 1   var ww=new Worker('./workers.js')

- 实例化一个对象,参数是js文件的地址

### 2 ww.postMassage(9999999)

- 将数据发送给js文件中的

### 3 this.onmassage=function( event){   }

- 事件函数对象里面有一个data属性,保存着传递过来的数据

### 4  postmessage( result)

- 将计算结果发送到html文件中

### 5  ww.onmessage=function(event){ event.data}

- 接收计算结果

### 6 数据接收完成,关闭与分线程之间的关系

- ww.terminate( )

### 7 关闭分线程

- close( )

## 面向对象

### 通过面向对象的方法来创建对象,可以节省很多空间,在遇到大量对象需要被创建时. 如果利用普通的方法,会占用太多内存,对性能的冲击性很大

## 构造函数

### 通过构造函数可以创建对象

### 通过new操作符调用函数,

### 它们的属性是一般都是私有的

### 方法都是一般都是共有的,方法都是放在当前对象构造函数的prototyoe原型对象上,所有实例化对象都可以使用

## 工厂模式构造对象

### 在函数中创建一个空对象,在里面添加属性和方法,最后将这个对象作为返回值返回,以一个变量接收,最终可以批量得到对象

### 在调用函数时,将对应参数传入,得到不一样的对象

### 每个对象都有有一样的方法,比较占用内存,

### 对象没有一个具体类型,都是object类型

## 继承

### 通俗来说,就是一个对象能用另一个对象的方法或者属性

### 构造函数继承

- 通过在子类中添加一个Parent.call(this,参数)
- 改变父类中this的指向,使得子类也能使用父类的属性

### 原型链继承

- 在使用父类的方法时,我们是不能直接拿到的,我们可以通过改变当前子类构造函数的prototype属性指向,将其指向为一个新的对象,新的对象为父类的实例化对象,因为在最开始子类构造函数的prototype属性指向的是一个空对象,是没有添加任何方法的,所以我们可以改变其指向,让其为父类构造函数的一个实例化对象,所以就能用父类构造函数prototype属性上的方法
- 通过原型链继承会有一个问题,在改变prototype属性后,就是当前构造函数的原型对象的constructor不再指向当前的构造函数,还是指向的是之前没有覆盖的那个空对象,为了不影响原理规范,我们需要强行让contructor属性指向当前的构造函数

### 混合继承

- 就是原型链继承和构造函数继承的一个组合

## jQurey

### jquery 的包裹

- 正常写法

	- $.(document).ready(function(){  })

- 简写

	- $(function( ){ })

### jquery每个方法返回的是一个对象,这就是为什么能链式调用

### jquery选择器获取的是一个集合,是一个类数组

### 方法返回对象要么是自己获取到,要么是从离他最近能返回对象的地方获取

